{% extends 'base.html' %}

{% block icon %}<i class="fas fa-th-large"></i>{% endblock %}
{% block title %}System Overview{% endblock %}

{% block content %}

<div class="upload-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
    <div class="card" style="text-align: center;">
        <i class="fas fa-building text-primary" style="font-size: 2rem; margin-bottom: 15px;"></i>
        <h3 style="font-size: 0.9rem; color: var(--gray);">Departments</h3>
        <p style="font-size: 1.8rem; font-weight: 700; margin: 10px 0;">{{ counts.departments }}</p>
        <a href="{{ url_for('main.departments') }}" class="btn btn-light btn-sm" style="font-size: 0.8rem;">View All</a>
    </div>

    <div class="card" style="text-align: center;">
        <i class="fas fa-user-tie text-success" style="font-size: 2rem; margin-bottom: 15px;"></i>
        <h3 style="font-size: 0.9rem; color: var(--gray);">Teachers</h3>
        <p style="font-size: 1.8rem; font-weight: 700; margin: 10px 0;">{{ counts.teachers }}</p>
        <a href="{{ url_for('main.teachers') }}" class="btn btn-light btn-sm" style="font-size: 0.8rem;">View All</a>
    </div>

    <div class="card" style="text-align: center;">
        <i class="fas fa-book text-warning" style="font-size: 2rem; margin-bottom: 15px;"></i>
        <h3 style="font-size: 0.9rem; color: var(--gray);">Subjects</h3>
        <p style="font-size: 1.8rem; font-weight: 700; margin: 10px 0;">{{ counts.courses }}</p>
        <a href="{{ url_for('main.courses') }}" class="btn btn-light btn-sm" style="font-size: 0.8rem;">View All</a>
    </div>

    <div class="card" style="text-align: center;">
        <i class="fas fa-door-open text-danger" style="font-size: 2rem; margin-bottom: 15px;"></i>
        <h3 style="font-size: 0.9rem; color: var(--gray);">Classrooms</h3>
        <p style="font-size: 1.8rem; font-weight: 700; margin: 10px 0;">{{ counts.classrooms }}</p>
        <a href="{{ url_for('main.classrooms') }}" class="btn btn-light btn-sm" style="font-size: 0.8rem;">View All</a>
    </div>
</div>

{% if current_user.role == 'admin' %}
<div class="card">
    <div class="card-header">
        <h3><i class="fas fa-tasks"></i> Quick Actions</h3>
    </div>
    <div style="display: flex; gap: 15px;">
        <form action="{{ url_for('main.generate') }}" method="POST">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-magic"></i> Generate Timetable
            </button>
        </form>
        <a href="{{ url_for('main.upload_csv') }}" class="btn btn-light">
            <i class="fas fa-file-upload"></i> Bulk Data Upload
        </a>
    </div>
</div>
{% endif %}
{% endblock %}